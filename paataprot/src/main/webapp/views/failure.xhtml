<html xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                >
                <h:head></h:head>
         <h:body>
         
                     <h:form>
                                    <p:fileUpload fileUploadListener="#{fileUploadController.handleFileUpload}"
                                                  uploadLabel="Upload" 
                                                  cancelLabel="Cancel"
                                                  label="Choose"
                                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                                  
                                                  sizeLimit="10000"
                                                  process="@form"
                                                  widgetVar="fileuplaod_wgt"
                                                  />
                                                  </h:form>
        <script type="text/javascript">
            $(document).ready(function(){
                fileuplaod_wgt.buttonBar.find("button.cancel").bind("click", function(e){
                    clearInvalidFileMsg();
                });
            });

            function clearInvalidFileMsg(){
                fileuplaod_wgt.uploadContent.find("tr.ui-state-error").remove();
            }
        </script>
         </h:body>
</html>
