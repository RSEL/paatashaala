<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html" locale="en">
	<h:head>
		<f:facet name="first">
		
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
			<meta http-equiv="pragma" content="no-cache" />
			<meta http-equiv="cache-control" content="no-cache" />
			<meta http-equiv="expires" content="0" />

		</f:facet>
		<f:facet name="last">
            <h:outputScript library="js" name="jquery.mousewheel.js"/>
            <h:outputScript library="js" name="perfect-scrollbar.js"/>
            <h:outputStylesheet library="css" name="perfect-scrollbar.css"/>
			<h:outputStylesheet library="css" name="bootstrap-responsive.css" />
			<h:outputStylesheet library="css" name="bootstrap.css" />
			<h:outputStylesheet library="css" name="bootstrap-support.css" />
			<h:outputStylesheet library="css" name="themeSwitcher.css" />
		</f:facet>
		<script type="text/javascript">
		 $(document).ready(function ($) {
		        $('#srollPannel').perfectScrollbar({
		          wheelSpeed: 20,
		          wheelPropagation: false
		        });
		        var ids=document.getElementById('notifyForm:notiScroll');
		        $(ids).perfectScrollbar({
			          wheelSpeed: 20,
			          wheelPropagation: false
			        });
		      });
		 
			function addElement() {
				document.getElementById('clickedText').style.display = 'inline';
				/* 				document.getElementById('tabView:postForm:hide1').style.display = 'inline';
				 document.getElementById('clickedText').innerHTML = '<input type="text" placeholder="send to..." id="sendToText" name="sendToText" style="width:684px"></input><br></br><input type="submit" value="send" class="btn btn-large btn-primary" style="width:60px;height:35px;padding:1px 1px;margin-left:640px"/>'; */
			}
			function hidePostText() {
				document.getElementById('clickedText').style.display = 'none';
				document.getElementById('clickedAlertText').style.display = 'none';
			}
			function addAlertText() {
				document.getElementById('clickedAlertText').style.display = 'inline';
			/* 	document.getElementById('clickedAlertText').innerHTML = '<input type="text" placeholder="send to..." id="alertToText" name="alertToText" style="width:682px"></input><br></br><input type="submit" value="send" class="btn btn-large btn-primary" style="width:70px;height:35px;padding:1px 1px;margin-left:626px;border-radius: 1pc"/>'; */
			}
		    function clearText(){
				document.getElementById('tabView:postForm:postText').value='';
				document.getElementById('tabView:postForm:autoComp_input').value='';
			}
		    function clearTextAlert(){
				document.getElementById('tabView:alertForm:alertText').value='';
				document.getElementById('tabView:alertForm:autoCompAlert_input').value='';
			}
		</script>
	</h:head>
	<h:body style="padding:0px 0px;margin:0px 0px">
		<h:form style="margin:0px 0px" id="toolBarFor">
			<p:toolbar style="width:auto;background-color:#157FF0 !important" id="toolBarImage">
				<p:toolbarGroup align="left" id="toolGroup">
					<p:commandLink type="push" title="Profile picture"
						style="margin:5px 0px 5px 15px" id="profileIconLink">
						 <p:graphicImage value="#{userProfileController.image}" style="height: 34px;width: 34px" id="profileIcon"/>
					</p:commandLink>
					<h:outputText value="School Name"
						style="font-size:30px;margin:4px 0px 0px 16px" />
					<p:commandLink type="push" title="Home"
						style="margin:5px 10px 5px 180px">
						<p:graphicImage url="#{resource['img:home-icon.png']}" />
					</p:commandLink>
					<p:commandLink type="push" title="Library"
						style="margin:5px 10px 5px 7px">
						<p:graphicImage url="#{resource['img:icon-library.png']}" />
					</p:commandLink>
					<h:form style="margin:0px 0px">
						<p:inputText
							style="margin:5px 0px 5px 50px;padding:.4em .2em .4em 0.2em"
							id="search" />
						<p:watermark for="search" value="Search people,groups" />
						<p:commandLink type="push" title="Search">
							<p:graphicImage url="#{resource['img:icon-search.png']}" />
						</p:commandLink>
					</h:form>
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:commandLink type="push" title="Notifications"
						style="margin:10px 7px 10px 70px">
						<p:graphicImage url="#{resource['img:bell1.png']}" />
					</p:commandLink>

					<p:commandLink id="dynaButton" type="push" title="Settings"
						style="margin:5px 15px 5px 0px">
						<p:graphicImage url="#{resource['img:sett-icon1.png']}" />
					</p:commandLink>
					<p:menu overlay="true" trigger="dynaButton" my="left top"
						at="left bottom">
						<p:menuitem value="Save" url="#" />
						<p:menuitem value="Change Picture" onclick="dlgPhotoUpload.show(); return false;" title="Change Profile Picture"/>
						<p:menuitem value="Logout" action="#{loginController.doLogout}" />
						<p:menuitem value="Themes" onclick="dlg1.show(); return false;"
							type="button" />

					</p:menu>
				</p:toolbarGroup>
			</p:toolbar>

			<p:dock id="dock" position="bottom" itemWidth="60" maxWidth="70">
				<p:menuitem value="Store" icon="/resources/img/cart-icon.png"
					url="/views/FrontPage.xhtml" update="centerLayout" />
				<p:menuitem value="Manage" icon="/resources/img/icon-setting.png"
					url="#" />
				<p:menuitem value="Apps Launcher"
					icon="/resources/img/apps-launcher1.jpg" url="#" />
				<p:menuitem value="Planner" icon="/resources/img/planner1.png"
					url="#" />
			</p:dock>

		</h:form>
		<p:scrollPanel style="width:1363px;height:610px;border:0"
			mode="native" id="srollPannel" styleClass="srollPannelStyle">
			<p:layout style="min-width:400px;min-height:900px" id="layout">
				<p:layoutUnit position="west" size="290" style="border:0" id="layoutUnit">
					<h:panelGrid columns="2" cellpadding="10">
					<h:form id="profileLargePhotoForm">
						<p:graphicImage value="#{userProfileController.image}" style="height: 84px;width: 75px" id="profilePhoto"/>
						<p:spacer width="20"/><h:outputText value="Hi #{userProfileController.displayName}" />
					</h:form>	
					</h:panelGrid>
					<h:form>
						<p:panel id="pnl" header="Groups" toggleable="true"
							style="border:0;margin-right:10px">

							<p:graphicImage value="/resources/img/group.png" />

							<f:facet name="options">
								<p:menu>
									<p:menuitem value="Create" onclick="dlg2.show(); return false;"
										type="button" />
									<p:menuitem value="Join" url="#" />
								</p:menu>
							</f:facet>

						</p:panel>
						<p:panel id="pnl1" header="Communities" toggleable="true"
							style="border:0;margin-right:10px">
							<p:graphicImage value="/resources/img/group.png" />

							<f:facet name="options">
								<p:menu>
									<p:menuitem value="Create" url="#" />
									<p:menuitem value="Join" url="#" />
								</p:menu>
							</f:facet>

						</p:panel>
					</h:form>
				</p:layoutUnit>

				<p:layoutUnit position="center" style="border:0;background:transparent" id="centerLayout">
					<p:tabView id="tabView" style="background:transparent" effect="drop"
						onTabShow="hidePostText()">
						<p:tab id="tab1" title="Post" titleStyle="">
						
							<h:form style="margin:0px 0px" id="postForm">
							   <p:message for="postText" id="messages"/>
							   <p:message for="autoComp" id="messages1"/>
							   <p:growl for="postSave"/>
								<p:inputTextarea rows="1" autoResize="true" id="postText"
									onclick="addElement()" cols="450" style="width:686px" value="#{postBean.description}" required="true" label="PostText"/>
								<p:watermark for="postText" value="Type your post here..." />
								<div id="clickedText" style="display: none">
									<p:autoComplete id="autoComp"
										value="#{autocompleteBeanController.selectedUserProfiles}"
										completeMethod="#{autocompleteBeanController.completeUserProfile}"
										var="userProfile" itemLabel="#{userProfile.displayName}" itemValue="#{userProfile}"
										 converter="#{userAutocompleteConverter}"
										forceSelection="true" required="true" rerequiredMessage="Send to is required" label="Send to" minQueryLength="1" maxResults="5">
										
										<p:ajax event="itemUnselect" listener="#{autocompleteBeanController.handleUnselect}"/>
										<p:column>
											<p:graphicImage
												value="#{userProfile.imagePath}"
												width="30" height="20" />
											&nbsp;&nbsp;&nbsp;#{userProfile.displayName}
										</p:column>
										
									</p:autoComplete>
									<p:watermark for="autoComp" value="send to.."/>
									<p:commandButton value="Send" id="sendButt"
										style="width:70px;height:35px;padding:1px 1px;margin-left:616px;background:#096DC5;border-radius: 1pc;margin-top: 10px;color: #ffffff;
text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25)" actionListener="#{postController.insertPosts}" update=":postfor,postForm,blui" onsuccess="bui.hide();return false;" oncomplete="clearText()" >
	 <p:blockUI block="postForm" trigger="sendButt" id="blui" widgetVar="bui" >  
        Sending..... 
        <br/>
        <p:graphicImage value="/resources/img/ajax-loader.gif"/> 
     </p:blockUI>
     <f:actionListener binding="#{newsFeedController}"/>
</p:commandButton>
								</div>
   
							</h:form>

						</p:tab>
							
   

						<p:tab id="tab2" title="Alert">
							<h:form style="margin:0px 0px" id="alertForm">
							<p:message for="alertText" id="messages"/>
							   <p:message for="autoCompAlert" id="messages1"/>
							   <p:growl for="alertSave"/>
								<p:inputText  id="alertText"
									onclick="addAlertText()"  style="width:681px" value="#{postBean.description}" required="true"/>
								<p:watermark for="alertText" value="Type your alert here..." />
								<div id="clickedAlertText" style="display: none">
								<p:autoComplete id="autoCompAlert"
										value="#{autocompleteBeanController.selectedUserProfiles}"
										completeMethod="#{autocompleteBeanController.completeUserProfile}"
										var="userProfile" itemLabel="#{userProfile.displayName}" itemValue="#{userProfile}"
										 converter="#{userAutocompleteConverter}"
										forceSelection="true"  label="Send to" required="true">
										
										<p:ajax event="itemUnselect" listener="#{autocompleteBeanController.handleUnselect}"/>
										<p:column>
											<p:graphicImage
												value="#{userProfile.imagePath}"
												width="30" height="20" />
											&nbsp;&nbsp;&nbsp;#{userProfile.displayName}
										</p:column>
										
									</p:autoComplete>
										<p:watermark for="autoCompAlert" value="send to.."/>
									<p:commandButton value="Send" id="sendButtAlert"
										style="width:70px;height:35px;padding:1px 1px;margin-left:616px;background:#096DC5;border-radius: 1pc;margin-top: 10px;color: #ffffff;
text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25)" actionListener="#{alertController.insertAlerts}" update=":notifyForm:notifyList,:postfor,alertForm,blui" onsuccess="bui.hide();return false;" oncomplete="clearTextAlert()" >
<p:blockUI block="alertForm" trigger="sendButtAlert" id="blui" widgetVar="bui" >  
        Sending..... 
        <br/>
        <p:graphicImage value="/resources/img/ajax-loader.gif"/> 
     </p:blockUI>
     <f:actionListener binding="#{newsFeedController}"/>
     <f:actionListener binding="#{alertFeedController}"/>
</p:commandButton>
								</div>
							</h:form>
						</p:tab>
					</p:tabView>

					<p:panel style="background:#ffffff">
						<h:outputText value="Latest Posts" styleClass="postHeader" />
					</p:panel>
                     
					<p:dataList value="#{newsFeedController.listOfPost}" var="post" id="postfor"
						type="none" >
						<p:panel style="background: #ffffff">
							<p:panel style="border:0;float:left;background: #ffffff">
								<p:graphicImage
									value="#{post.userImage}"
									 style="margin-left:0px;width:60px;height:63px" />
							</p:panel>
							<p:panel style="border:0;background: #ffffff">
								<h:outputText value="#{post.personName}" style="" />
								         &nbsp;&nbsp;
										<h:outputText value="#{post.dateOfPosting}">
 										    <f:convertDateTime dateStyle="short"  timeStyle="short" type="both"/>
										</h:outputText>&nbsp;&nbsp;
										<h:outputText value="#{post.userType}"/>&nbsp;&nbsp;<h:outputText value="#{post.messageType}"/>
										
								<p:panel style="margin-left: 80px">
									<h:outputText
										value="#{post.postDescription}" />
										
								</p:panel>
							</p:panel>
						</p:panel>
					</p:dataList>
				</p:layoutUnit>
				<p:layoutUnit position="east" size="290" style="border:0">
					<h:form id="notifyForm">
						<!-- <p:panelGrid columns="2" cellpadding="10" style="border:0;width:95%"> 
                     <h:graphicImage url="#{resource['img:default-profile1.jpg']}" />    
                     <h:outputText value="Ram Software Engineering Lab Pvt. Ltd." />               
                </p:panelGrid> -->
                   <p:scrollPanel style="width:275px;height:179px;border:0" mode="native" id="notiScroll" styleClass="srollPannelStyle">
						<p:dataList var="post" value="#{alertFeedController.listofAlert}"
							style="margin:0px 0px;border:0" type="none" id="notifyList" >
							
                      <!-- <p:panel style="background: #ffffff">
							<p:panel style="border:0;float:left;background: #ffffff">
								<p:graphicImage
									value="#{post.userImage}"
									width="60" height="60" style="margin-left:0px" />
							</p:panel>
							<p:panel style="border:0;background: #ffffff">
								<h:outputText value="#{post.personName}" style="" />
								<p:panel style="margin-left: 80px">
									<h:outputText
										value="#{post.postDescription}" />
										<br/>
										<h:outputText value="#{post.dateOfPosting}">
 										    <f:convertDateTime dateStyle="short"  timeStyle="short" type="both"/>
										</h:outputText>&nbsp;&nbsp;
										<h:outputText value="#{post.userType}"/>
					
								</p:panel>
							</p:panel> 
						</p:panel> -->
						<p:panelGrid  columns="2" style="border:0px" >
						 
						   <p:panel style="padding: 0px 0px;border:0;width:60px" > 
						       <p:graphicImage
									value="#{post.userImage}"
									style="margin-left:0px;width:89px;height:30px"/>
							  </p:panel>
							  
							 
							 <p:panel style="padding: 0px 0px;border:0">
									<h:outputText value="#{post.personName}:-#{post.postDescription}" style="font-size:12px" />&nbsp;&nbsp;&nbsp;
									<h:outputText value="#{post.dateOfPosting}" style="font-size:10px">
 										    <f:convertDateTime dateStyle="short" pattern="dd/MMM" timeStyle="short" type="both"/>
										</h:outputText>
								</p:panel>
									
						</p:panelGrid>
                </p:dataList>
                </p:scrollPanel>
						<br></br>
						<p:calendar showButtonPanel="true" navigator="true" mode="inline"
							id="enCal" style="width:100%;margin:0px 0px;margin-top: 175px;position: absolute" />
					</h:form>
				</p:layoutUnit>
			</p:layout>
		</p:scrollPanel>
		<p:dialog widgetVar="dlgPhotoUpload" header="Choose your images" id="fileUploadDlg" modal="true">
		    <h:form id="fileUpload">
				<p:fileUpload fileUploadListener="#{fileUploadController.handleFileUpload}"
                                                  uploadLabel="Upload" 
                                                  cancelLabel="Cancel"
                                                  label="Choose"
                                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                                  
                                                  sizeLimit="300000"
                                                  
                                                  widgetVar="fileuplaod_wgt" oncomplete="dlgPhotoUpload.hide(); return false;"
                                                  update="msgFileUp,:toolBarFor:profileIcon,:profileLargePhotoForm:profilePhoto"/> 
                                                <p:growl id="msgFileUp" for="serverMsg"/>   
			</h:form>
		</p:dialog>
		<p:dialog id="basicDialog" header="Choose your theme" widgetVar="dlg1"
			modal="true">
			<h:form id="themeForm">
				<p:themeSwitcher id="statefulSwitcher1"
					value="#{userSettingsController.theme}" var="theme"
					style="width:165px" effect="drop">
					<f:selectItem itemLabel="Choose Theme" itemValue="" />
					<f:selectItems value="#{userSettingsController.themes}" />
					<p:ajax listener="#{userSettingsController.saveTheme}"
						oncomplete="dlg1.hide(); return false;" />
				</p:themeSwitcher>
				
			</h:form>
		</p:dialog>

		<p:dialog id="createGroupDia" header="Create Group" widgetVar="dlg2"
			modal="true" style="background:#dfe4e8;height:30%;width:40%">

			<h:form id="commandLink">
				<p>
					<p:commandLink
						value="Important:Learn about Group Management features"
						style="text-decoration:none" />
				</p>
			</h:form>

			<p:tabView style="border:0">
				<p:tab id="tab1" title="Basic" titleStyle="">
					<h:form id="groupFormBasic">
						<p:inputText id="groupText" style="width: 330px"
							label="Group Name" required="true" />
						<p:message for="groupText" />
						<p:watermark for="groupText" value="Group Name" />
						<hr />
						<p:selectOneMenu id="gradeMenu" label="Grade" required="true">
							<f:selectItem itemLabel="[Select Grade]" itemValue="" />
							<f:selectItem itemLabel="None" itemValue="no" />
							<f:selectItem itemLabel="Prekindergarten" itemValue="pkg" />
							<f:selectItem itemLabel="Kindergarten" itemValue="kg" />
							<f:selectItem itemLabel="1st" itemValue="1" />
							<f:selectItem itemLabel="2nd" itemValue="2" />
							<f:selectItem itemLabel="3rd" itemValue="3" />
							<f:selectItem itemLabel="4th" itemValue="4" />
							<f:selectItem itemLabel="5th" itemValue="5" />
							<f:selectItem itemLabel="6th" itemValue="6" />
							<f:selectItem itemLabel="7th" itemValue="7" />
							<f:selectItem itemLabel="8th" itemValue="8" />
							<f:selectItem itemLabel="9th" itemValue="9" />
							<f:selectItem itemLabel="10th" itemValue="10" />
							<f:selectItem itemLabel="11th" itemValue="11" />
							<f:selectItem itemLabel="12th" itemValue="12" />
							<f:selectItem itemLabel="Higher Education" itemValue="he" />
						</p:selectOneMenu>
						<p:message for="gradeMenu" />
						<hr />
						<p:selectOneMenu id="areaMenu" label="Area" required="true">
							<f:selectItem itemLabel="[Select Area]" itemValue="" />
							<f:selectItem itemLabel="All" itemValue="all" />
							<f:selectItem itemLabel="Computer Technology" itemValue="pkg" />
							<f:selectItem itemLabel="Mathemetics" itemValue="mth" />
							<f:selectItem itemLabel="Science" itemValue="sc" />
							<f:selectItem itemLabel="Art" itemValue="art" />
							<f:selectItem itemLabel="World Language" itemValue="wl" />
							<f:selectItem itemLabel="Professional Developement"
								itemValue="pd" />
							<f:selectItem itemLabel="Social Studies" itemValue="ss" />
							<f:selectItem itemLabel="Health/P.E." itemValue="hl" />
						</p:selectOneMenu>
						<p:message for="areaMenu" />
						<hr />
						<p:commandButton value="Create" update="groupFormBasic" />
					</h:form>
				</p:tab>
				<p:tab id="tab2" title="Advance" titleStyle="">
					<h:form id="groupFormAdvance">
						<p:selectManyCheckbox layout="pageDirection" label="Check"
							required="true" id="checkBox">
							<f:selectItem itemLabel="Default all new members to read-only"
								itemValue="readOnly" />
							<f:selectItem itemLabel="Moderate all Posts and Replies"
								itemValue="moderate" />
						</p:selectManyCheckbox>
						<p:message for="checkBox" />
						<hr />
						<p:inputText id="groupDescription"
							style="width:330px;margin-bottom:0px" label="Group Description"
							required="true" />
						<p:message for="groupDescription" />
						<p:watermark for="groupDescription" value="GroupDescription" />
						<hr />
						<p:commandButton value="Create" update="groupFormAdvance"/>
					</h:form>
				</p:tab>
			</p:tabView>
		</p:dialog>
		<style type="text/css">
.ui-autocomplete-multiple-container {
	width: 682px;
}
.ui-autocomplete-input.ui-inputfield{width:682px !important;}
.ui-tabs-nav{
 background: transparent !important;
}
 .fileupload-buttonbar .fileinput-button .ui-icon-plusthick{
         display: none !important;
         
 }
 .fileupload-buttonbar .fileinput-button  .ui-button-text{
     padding-left: 1em!important;
     background: transparent !important;
 }
 .fileupload-buttonbar {
    padding: 0.0em 0.0em;
    background: transparent !important;
    padding-top: 4px;
    padding-left: 3px;
}
/*  
#customSrollBar .ui-scrollpanel-native {                    
                overflow:hidden !important;
            } */

.ui-panelgrid td{
border-width: 0px;
border-style: none;
border-color: black;
padding: 0px 13px;
}
/* .fileupload-content {
    display: inline;
} */
/* .fileinput-button {
    background: #157FF0;
} */

/* .mousescroll {
    overflow: hidden !important;
}
.mousescroll:hover {
    overflow-y: scroll !important;
}

.srollForThis::-webkit-scrollbar {
   -moz-appearance: none !important;
    width: 12px;
}
 

.srollForThis::-webkit-scrollbar-track {
     -moz-appearance: none !important;
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
    -webkit-border-radius: 10px;
    border-radius: 10px;
}
 
.srollForThis::-webkit-scrollbar-thumb {
    -moz-appearance: none !important;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    background: rgb(165, 152, 152); 
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
} */
.srollPannelStyle{
        overflow: hidden !important;
        position: absolute;
      }
</style>
 <script type="text/javascript">
            $(document).ready(function(){
                fileuplaod_wgt.buttonBar.find("button.cancel").bind("click", function(e){
                    clearInvalidFileMsg();
                });
            });

            function clearInvalidFileMsg(){
                fileuplaod_wgt.uploadContent.find("tr.ui-state-error").remove();
            }
        </script>
	</h:body>
</f:view>
</html>